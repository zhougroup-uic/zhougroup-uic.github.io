<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            margin: 0;
            font-family: system-ui, -apple-system, sans-serif;
        }
        .header-section {
            background: #ffffff;
            padding: 30px 20px;
            border-bottom: 2px solid #ddd;
        }
        .header-section h1 {
            margin: 0 0 20px 0;
            color: #333;
            font-size: 24px;
            text-align: center;
        }
        .mirror-selector {
            background: #f5f5f5;
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid #ddd;
        }
        .mirror-selector label {
            margin-right: 10px;
            font-weight: 500;
        }
        .mirror-selector select {
            padding: 8px 15px;
            font-size: 14px;
            border: 1px solid #ccc;
            border-radius: 4px;
            cursor: pointer;
        }
        footer {
            text-align: center;
            padding: 20px;
            background: #f9f9f9;
            border-top: 1px solid #eee;
        }
    </style>
</head>
<body>
<script type="module" src="https://gradio.s3-us-west-2.amazonaws.com/5.49.1/gradio.js"></script>

<div class="header-section">
    <h1>FMAPIq: Fast calculation of small-angle scattering profiles from dense protein solutions</h1>
    <p><center><img src="images/FMAPIq.png" style="width:70.0%" /></center></p>
            <h2>Method at a Glance</h2>
            <p>
                FMAPIq uses MAEPPI (<u>m</u>any-protein <u>a</u>tomistic <u>e</u>nergy from <u>p</u>recomputed <u>p</u>air <u>i</u>nteraction) to drive Monte Carlo 
                simulations of dense protein solutions and then use Sim2Iq to calculate small-angle scattering profiles, I(q). In MAEPPI, we first precompute the interaction 
                energies of a protein pair at various relative displacements and relative orientations, and store them in a lookup table. In simulations of a many-protein 
                system, we then obtain the total energy by looking up and adding up the interaction energyies of individual protein pairs. The fast calculation of protein 
                pair energies were made possible by using the FMAP method, which is based on fast Fourier transform (FFT). Likewise, Sim2Iq calculations are sped up by 
                applying FFT to simulation snapshots. FMAPIq maintains atomic-level accuracy while achieving the speed of Lennard-Jones particles.
            </p>
            <div class="references">
                <strong>Reference:</strong><br>
                Qin, S., &amp; Zhou, H.-X. (2025). Fast calculation of small-angle scattering profiles of dense protein solutions modeled at the all-atom level.
                <em>PNAS</em>, 122(39), e2519265122. <a href="https://doi.org/10.1073/pnas.2519265122" target="_blank">https://doi.org/10.1073/pnas.2519265122</a>
            </div>
</div>

<div class="mirror-selector">
    <label for="mirror-select">Select Mirror Site:</label>
    <select id="mirror-select" onchange="switchMirror()">
        <option value="https://qsb300-fmapiqtest.hf.space">Mirror 1 (Primary)</option>
        <option value="https://qsb300-fmapiqtest2.hf.space">Mirror 2</option>
        <option value="https://qsb300-fmapiqtest3.hf.space">Mirror 3</option>
    </select>
    <a href="help.html" style="margin-left: 20px; text-decoration: none; color: #0066cc; font-weight: 500;">Help</a>
</div>

<gradio-app id="gradio-app" src="https://qsb300-fmapiqtest.hf.space"></gradio-app>

<footer>
    <div class="container">
        <div style="padding-bottom: 30px">
            This website is free and open to all users and there is no login requirement.
        </div>
    </div>
</footer>

<script>
function switchMirror() {
    const select = document.getElementById('mirror-select');
    const gradioApp = document.getElementById('gradio-app');
    gradioApp.setAttribute('src', select.value);
}
</script>
</body>
</html>
